# Summer 2025 Trashbot Project
---

This is the official README file of the Summer 2025 Trashbot Project, an implementation of the [Mobile Robot Bootcamp](https://github.com/IRL-CT/Mobile_HRI_Lab_Hub/tree/main/Lab0) created by Professor Wendy Ju and Frank Bu. This README guides you through setting up and running the Trashbot prototype from scratch using a Raspberry Pi, ROS 2 Humble, Odrive.

## Purpose

The Trashbot project involves mounting a trash bin on a mobile robot platform to study human-robot interaction (HRI). Using the Wizard of Oz method, a human operator remotely controls the robot to simulate autonomous behavior, allowing researchers to observe and analyze how people interact with the robot in real-time scenarios.

## Part 1. Raspberry Pi Setup: Software Installation
This project uses **ROS 2 Humble**, which is primarily supported on Linux and Windows systems. While ROS traditionally has been Linux-focused, ROS 2 now supports multiple platforms. With your Raspberry Pi (Model 4), do the following:
1. Install **Ubuntu 22.04** on your Raspberry Pi by following the official instructions here: [Ubuntu for Raspberry Pi](https://ubuntu.com/download/raspberry-pi)
   - Flash Ubuntu 22.04 on the SD Card (e.g., 32GB Class 10 microSD card) in another system (e.g., macOS) via an SD Card Reader and then place the SD Card in it's respective slot in the Raspberry Pi.
2. After installing Ubuntu, install ROS 2 Humble by following these steps: [ROS 2 Humble Installation on Ubuntu](https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debs.html)
   - **Sourcing ROS 2**: In order to use ROS 2 commands, you need to source your environment, which means adding environment variables so your system knows where to find and how to run ROS 2 commands. This could be done in two ways: `source /opt/ros/humble/setup.bash` or `. /opt/ros/humble/setup.bash`. Make sure to run either command before you run any ROS 2 commands in a new terminal.
   - **Setting Up ROS 2 Workspace**: An ROS workspace is a directory that contains your ROS packages and follows a specific structure. Create the workspace and source folder by running: `mkdir -p ~/mobilehri_ws/src`.
   - **Creating the ROS Package**: Inside the workspace's `src` directly, create a package with dependencies:
     - `cd ~/mobilehri_ws/src`
     - `ros2 pkg create --build-type ament_python my_package --dependencies std_msgs rclpy.`
     - The resulting folder structure should look like this:
      ```plaintext
     - mobilehri_ws/
      └── src/
          └── my_package/
              ├── my_package/      # Python code goes here
              ├── package.xml      # Package metadata and dependencies
              ├── resource/        # Autogenerated by Python tools
              ├── setup.cfg        # Build configuration
              ├── setup.py         # Package setup script
              └── test/            # Tests
      ```
   - **Testing**: To test that ROS 2 successfully installed with an example, go to [ROS 2 Humble Installation on Ubuntu](https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debs.html) and try running the **Talker-listener** example.
  
## Part 2. Hardware Setup: The ODrive
Follow the GitHub Documentation [here](https://github.com/IRL-CT/Mobile_HRI_Lab_Hub/blob/main/Lab3/Readme.md#part-b-hardware-setup) for the hardware setup. Here's another reference to use:
![Hardware](hardware_config.png)

## Part 3. Making the Robot Move: Calibration
Follow the GitHub Documentation [here](https://github.com/IRL-CT/Mobile_HRI_Lab_Hub/blob/main/Lab3/Readme.md#part-c-software-setup) for the calibration of the wheels.

## Part 4. Making the Robot Move: Via Bluetooth
a. Connecting the Controller
1. In order to connect to the controller via Bluetooth, first make sure you set up bluetooth in your Raspberry pi.
    ```plaintext
    sudo apt install bluez
    sudo apt install blueman
    ```
2. Then, turn on your controller and ensure it's in wireless paiirng mode. Check if your bluetooth is on and check if `Wireless Controller` is an option, and click it to connect. In this case, it's the Sony Dualshock PS4 Controller, and it flashed white/light blue to signal pairing mode, before staying dark blue to indicated its connected. Refer to [bluetoothctl documentation](https://www.mankier.com/1/bluetoothctl#) if stuck.
3. This [GitHub Documentation](https://github.com/IRL-CT/Mobile_HRI_Lab_Hub/blob/main/Lab5/Readme.md#part-b-read-messages-from-joystick) illustrates the purpose of each command, but for simplicity purposes, follow each terminal's commands one by one below:
   - Terminal 1
    ```plaintext
    source /opt/ros/humble/setup.bash
    ros2 run joy joy_node
    ```
   - Terminal 2
    ```plaintext
    source /opt/ros/humble/setup.bash
    ros2 topic list
    ros2 topic echo /joy
    ```
   - Terminal 3
    ```plaintext
    source /opt/ros/humble/setup.bash
    cd ~/mobilehri_ws
    colcon build
    source install/setup.bash
    ros2 launch joy_teleop_keymapping mapping_launch.py
    ```
   - Terminal 4
    ```plaintext
    source /opt/ros/humble/setup.bash
    ros2 topic echo /cmd_vel
    ```
   - Terminal 5
    ```plaintext
    source /opt/ros/humble/setup.bash
    cd ~/mobilehri_ws
    colcon build
    source install/setup.bash
    ros2 launch mobile_robot_control mobile_robot_launch.py
    ```

#### Note: This README is being actively updated.
